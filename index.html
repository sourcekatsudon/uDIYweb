<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ°´ä¸­ãƒ‰ãƒ­ãƒ¼ãƒ³DIY - è¨€èªé¸æŠ</title>
    <meta name="description" content="æ°´ä¸­ãƒ‰ãƒ­ãƒ¼ãƒ³DIYã®ç ”ç©¶ãƒ–ãƒ­ã‚°ã€‚è¨€èªã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚">
    <link rel="stylesheet" href="css/language-selector.css">
    
    <!-- Hreflang for language selection page -->
    <link rel="alternate" hreflang="ja" href="/ja/">
    <link rel="alternate" hreflang="en" href="/en/">
    <link rel="alternate" hreflang="zh" href="/zh/">
    <link rel="alternate" hreflang="es" href="/es/">
    <link rel="alternate" hreflang="x-default" href="/">
</head>
<body>
    <div class="language-selector-container">
        <div class="selector-content">
            <div class="logo-section">
                <svg width="200" height="40" viewBox="0 0 200 40" xmlns="http://www.w3.org/2000/svg">
                    <rect x="5" y="5" width="30" height="30" fill="white" rx="5"/>
                    <circle cx="20" cy="20" r="8" fill="#0066cc"/>
                    <text x="45" y="25" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">æ°´ä¸­ãƒ‰ãƒ­ãƒ¼ãƒ³DIY</text>
                </svg>
                <h1>UnderwaterROV Research Blog</h1>
                <p>Choose your language / è¨€èªã‚’é¸æŠ / é€‰æ‹©è¯­è¨€ / Elige tu idioma</p>
            </div>
            
            <div class="language-options">
                <a href="/ja/" class="language-option" data-lang="ja">
                    <div class="flag">ğŸ‡¯ğŸ‡µ</div>
                    <div class="language-info">
                        <div class="language-name">æ—¥æœ¬èª</div>
                        <div class="language-description">æ°´ä¸­ãƒ‰ãƒ­ãƒ¼ãƒ³ä½œã£ã¦æ¡ã£ã¦é£Ÿã¹ãŸã„</div>
                    </div>
                </a>
                
                <a href="/en/" class="language-option" data-lang="en">
                    <div class="flag">ğŸ‡ºğŸ‡¸</div>
                    <div class="language-info">
                        <div class="language-name">English</div>
                        <div class="language-description">Build, Catch, and Eat with Underwater Drones</div>
                    </div>
                </a>
                
                <a href="/zh/" class="language-option" data-lang="zh">
                    <div class="flag">ğŸ‡¨ğŸ‡³</div>
                    <div class="language-info">
                        <div class="language-name">ä¸­æ–‡</div>
                        <div class="language-description">åˆ¶ä½œã€æ•è·ã€å“å°æ°´ä¸‹æ— äººæœº</div>
                    </div>
                </a>
                
                <a href="/es/" class="language-option" data-lang="es">
                    <div class="flag">ğŸ‡ªğŸ‡¸</div>
                    <div class="language-info">
                        <div class="language-name">EspaÃ±ol</div>
                        <div class="language-description">Construir, Capturar y Comer con Drones Submarinos</div>
                    </div>
                </a>
            </div>
            
            <div class="auto-detect-section">
                <p id="browser-lang-info">ãƒ–ãƒ©ã‚¦ã‚¶è¨€èªã‚’æ¤œå‡ºä¸­...</p>
                <button id="auto-redirect-btn" style="display: none;">æ¨å¥¨è¨€èªã§ç¶šè¡Œ</button>
            </div>
        </div>
    </div>

    <script src="config/i18n.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            detectBrowserLanguage();
        });
        
        function detectBrowserLanguage() {
            const userLang = navigator.language || navigator.userLanguage;
            const langCode = userLang.toLowerCase();
            const infoElement = document.getElementById('browser-lang-info');
            const buttonElement = document.getElementById('auto-redirect-btn');
            
            let detectedLang = 'ja'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
            let langName = 'æ—¥æœ¬èª';
            
            if (langCode.startsWith('en')) {
                detectedLang = 'en';
                langName = 'English';
            } else if (langCode.startsWith('zh')) {
                detectedLang = 'zh';
                langName = 'ä¸­æ–‡';
            } else if (langCode.startsWith('es')) {
                detectedLang = 'es';
                langName = 'EspaÃ±ol';
            }
            
            // æ¤œå‡ºã•ã‚ŒãŸè¨€èªã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
            const detectedOption = document.querySelector(`[data-lang="${detectedLang}"]`);
            if (detectedOption) {
                detectedOption.classList.add('recommended');
            }
            
            infoElement.textContent = `ãƒ–ãƒ©ã‚¦ã‚¶è¨€èª: ${langName} ã‚’æ¤œå‡ºã—ã¾ã—ãŸ`;
            buttonElement.textContent = `${langName}ã§ç¶šè¡Œ`;
            buttonElement.style.display = 'block';
            buttonElement.onclick = () => {
                window.location.href = `/${detectedLang}/`;
            };
        }
    </script>
</body>
</html>